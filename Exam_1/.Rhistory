library(tidyverse)
path <- "./data/csse_covid_19_daily_reports_us/"
outpath <- "./data/cleaned_covid_data.csv"
csvs <- list.files(path, full.names = TRUE,pattern=".csv$") %>% as.list()
csvs
read_covid <- function(x){
read_csv(x,
col_types = cols(
Province_State = col_character(),
Country_Region = col_character(),
Last_Update = col_datetime(format = ""),
Lat = col_double(),
Long_ = col_double(),
Confirmed = col_double(),
Deaths = col_double(),
Recovered = col_double(),
Active = col_double(),
FIPS = col_double(),
Incident_Rate = col_double(),
Total_Test_Results = col_double(),
People_Hospitalized = col_double(),
Case_Fatality_Ratio = col_double(),
UID = col_double(),
ISO3 = col_character(),
Testing_Rate = col_double(),
Hospitalization_Rate = col_double()
))
}
dat <- map(csvs, read_covid)
View(csvs)
View(dat)
df <- reduce(dat,full_join)
View(df)
cleaned_covid_data <- read.csv("cleaned_covid_data.csv")
library(tidyverse)
View(cleaned_covid_data)
df<-cleaned_covid_data <- read.csv("cleaned_covid_data.csv")
library(tidyverse)
A_states<- df %>%
filter(grepl("^A", items))
library(tidyverse)
A_states<- df %>%
filter(grepl("^A", Province_State))
library(tidyverse)
A_states<- df %>%
filter(grepl("^A", Province_State))
View(A_states)
+ Create a scatterplot
ggplot(A_states)+
geom_point(aes(x=Last_Update, y=Deaths))
ggplot(A_states)+
geom_point(aes(x=Last_Update, y=Deaths))+
facet_wrap(states)
ggplot(A_states)+
geom_point(aes(x=Last_Update, y=Deaths))+
facet_wrap(Province_State)
ggplot(A_states)+
geom_point(aes(x=Last_Update, y=Deaths))+
facet_wrap("Province_State")
A_states_copy<- A_states
df_clean <- df %>%
drop_na()
df_clean <- df %>%
drop_na()
View(df_clean)
View(df_clean)
df_col<-df%>%
select(-Recovered,-Active, -Deaths,-Confirmed, -Last_Update)
df_col<-df%>%
select(-Recovered,-Active, -Deaths,-Confirmed, -Last_Update)
View(df_col)
state_max_fatality_rate <- df %>%
group_by(Province_State) %>%
summarize(max_fatality_rate = max(Case_Fatality_Ratio, na.rm = TRUE))
ggplot(A_states)+
geom_point(aes(x=Last_Update, y=Deaths))+
geom_smooth(method="loess", se=FALSE)
ggplot(A_states)+
geom_point(aes(x=Last_Update, y=Deaths))+
geom_smooth(aes(x=Last_Update, y=Deaths)method="loess", se=FALSE)
ggplot(A_states)+
geom_point(aes(x=Last_Update, y=Deaths))+
geom_smooth(aes(x=Last_Update, y=Deaths)method="loess", se=FALSE)+
ggplot(A_states)+
geom_point(aes(x=Last_Update, y=Deaths))+
geom_smooth(aes(x=Last_Update, y=Deaths),method="loess", se=FALSE)+
facet_wrap("Province_State")
ggplot(A_states)+
geom_point(aes(x=Last_Update, y=Deaths))+
geom_smooth(aes(x=Last_Update, y=Deaths),method="loess", se=FALSE)+
facet_wrap("Province_State", scales="free")
as.POSIXct(A_states$Last_Update)
ggplot(A_states)+
geom_point(aes(x=Last_Update, y=Deaths))+
geom_smooth(aes(x=Last_Update, y=Deaths),method="loess", se=FALSE)+
facet_wrap("Province_State", scales="free")
A_states_date<-as.POSIXct(A_states$Last_Update)
ggplot(A_states_date)+
geom_point(aes(x=Last_Update, y=Deaths))+
geom_smooth(aes(x=Last_Update, y=Deaths),method="loess", se=FALSE)+
facet_wrap("Province_State", scales="free")
A_states_date<-as.Date(A_states$Last_Update)
ggplot(A_states_date)+
geom_point(aes(x=Last_Update, y=Deaths))+
geom_smooth(aes(x=Last_Update, y=Deaths),method="loess", se=FALSE)+
facet_wrap("Province_State", scales="free")
A_states_date<-as.Date(A_states$Last_Update)
as.data.frame(A_states_date)
ggplot(A_states_date)+
geom_point(aes(x=Last_Update, y=Deaths))+
geom_smooth(aes(x=Last_Update, y=Deaths),method="loess", se=FALSE)+
facet_wrap("Province_State", scales="free")
A_states_date<-as.Date(A_states$Last_Update)
A_states_date<-as.Date(A_states$Last_Update)
View(A_states_date)
A_states<- df %>%
filter(grepl("^A", Province_State))
View(A_states)
ggplot(A_states_date)+
geom_point(aes(x=Last_Update, y=Deaths))+
geom_smooth(aes(x=Last_Update, y=Deaths), method="loess", se=FALSE)+
labs(title="Deaths Over Time",
x="Date",
y="Deaths")
ggplot(A_states)+
geom_point(aes(x=Last_Update, y=Deaths))+
geom_smooth(aes(x=Last_Update, y=Deaths), method="loess", se=FALSE)+
labs(title="Deaths Over Time",
x="Date",
y="Deaths")
facet_wrap("Province_State", scales="free")
ggplot(A_states)+
geom_point(aes(x=Last_Update, y=Deaths))+
geom_smooth(aes(x=Last_Update, y=Deaths), method="loess", se=FALSE)+
labs(title="Deaths Over Time",
x="Date",
y="Deaths")+
facet_wrap("Province_State", scales="free")
ggplot(A_states)+
geom_point(aes(x=Last_Update, y=Deaths))+
geom_smooth(aes(x=Last_Update, y=Deaths), method="loess", se=FALSE))+
ggplot(A_states)+
geom_point(aes(x=Last_Update, y=Deaths))+
geom_smooth(aes(x=Last_Update, y=Deaths), method="loess", se=FALSE)+
labs(title="Deaths Over Time",
x="Date",
y="Deaths")+
facet_wrap("Province_State", scales="free")
ggplot(A_states)+
geom_point(aes(x=Last_Update, y=Deaths))+
geom_smooth(aes(x=Last_Update, y=Deaths), method="loess", se=FALSE, color='red')+
labs(title="Deaths Over Time",
x="Date",
y="Deaths")+
facet_wrap("Province_State", scales="free")
ggplot(A_states)+
geom_point(aes(x=Last_Update, y=Deaths))+
geom_smooth(method="loess", se=FALSE, color='red')+
labs(title="Deaths Over Time",
x="Date",
y="Deaths")+
facet_wrap("Province_State", scales="free")
A_states$Last_Update <- as.Date(A_states$Last_Update)
ggplot(A_states)+
geom_point(aes(x=Last_Update, y=Deaths))+
geom_smooth(method="loess", se=FALSE, color='red')+
labs(title="Deaths Over Time",
x="Date",
y="Deaths")+
facet_wrap("Province_State", scales="free")
A_states$Last_Update <- as.Date(A_states$Last_Update)
A_states <- A_states %>%
filter(!is.na(Last_Update), !is.na(Deaths))
ggplot(A_states)+
geom_point(aes(x=Last_Update, y=Deaths))+
geom_smooth(method="loess", se=FALSE, color='red')+
labs(title="Deaths Over Time",
x="Date",
y="Deaths")+
facet_wrap("Province_State", scales="free")
ggplot(A_states)+
geom_point(aes(x=Last_Update, y=Deaths))+
geom_smooth(method="loess", color='red')+
labs(title="Deaths Over Time",
x="Date",
y="Deaths")+
facet_wrap("Province_State", scales="free")
A_states$Last_Update <- as.Date(A_states$Last_Update)
A_states <- A_states %>%
filter(!is.na(Last_Update), !is.na(Deaths))
View(A_states)
A_states$Last_Update <- as.numeric(A_states$Last_Update)
A_states <- A_states %>%
filter(!is.na(Last_Update), !is.na(Deaths))
View(A_states)
ggplot(A_states)+
geom_point(aes(x=Last_Update, y=Deaths))+
geom_smooth(method="loess", se=FALSE, color='red')+
labs(title="Deaths Over Time",
x="Date",
y="Deaths")+
facet_wrap("Province_State", scales="free")
A_states$Last_Update <- as.date(A_states$Last_Update)
A_states$Last_Update <- as.date(A_states$Last_Update)
A_states$Last_Update <- as.POSIXct(A_states$Last_Update)
A_states <- A_states %>%
filter(!is.na(Last_Update), !is.na(Deaths))
View(A_states)
ggplot(A_states)+
geom_point(aes(x=Last_Update, y=Deaths))+
geom_smooth(method="loess", se=FALSE, color='red')+
labs(title="Deaths Over Time",
x="Date",
y="Deaths")+
facet_wrap("Province_State", scales="free")
ggplot(A_states)+
geom_point(aes(x=Last_Update, y=Deaths))+
geom_smooth(A_states,method="loess", se=FALSE, color='red')+
labs(title="Deaths Over Time",
x="Date",
y="Deaths")+
facet_wrap("Province_State", scales="free")
ggplot(A_states)+
geom_point(aes(x=Last_Update, y=Deaths))+
geom_smooth(aes(x=Last_Update, y=Deaths),method="loess", se=FALSE, color='red')+
labs(title="Deaths Over Time",
x="Date",
y="Deaths")+
facet_wrap("Province_State", scales="free")
df_col<-df%>%
select(-Recovered,-Active, -Deaths,-Confirmed, -Last_Update)
View(df_col)
state_max_fatality_rate <- df %>%
group_by(Province_State) %>%
summarize(max_fatality_rate = max(Case_Fatality_Ratio, na.rm = TRUE))
state_max_fatality_rate <- df %>%
group_by(Province_State) %>%
summarize(max_fatality_rate = max(Case_Fatality_Ratio, na.rm = TRUE))%>%
View()
state_max_fatality_rate <- df_col %>%
group_by(Province_State) %>%
summarize(max_fatality_rate = max(Case_Fatality_Ratio, na.rm = TRUE))%>%
View()
df_col<-df%>%
select(-Recovered,-Active, -Deaths,-Confirmed, -Last_Update)
View(df_col)
state_max_fatality_rate <- df_col %>%
group_by(Province_State) %>%
summarize(max_fatality_rate = max(Case_Fatality_Ratio, na.rm = TRUE))%>%
View()
View(state_max_fatality_rate)
df_col %>%
group_by(Province_State) %>%
summarize(max_fatality_rate = max(Case_Fatality_Ratio, na.rm = TRUE))%>%
View()
(state_max_fatality_rate)<-df_col %>%
group_by(Province_State) %>%
summarize(max_fatality_rate = max(Case_Fatality_Ratio, na.rm = TRUE))%>%
View()
View(state_max_fatality_rate)
state_max_fatality_rate<-df_col %>%
group_by(Province_State) %>%
summarize(max_fatality_rate = max(Case_Fatality_Ratio, na.rm = TRUE))%>%
View()
View(state_max_fatality_rate)
state_max_fatality_rate<-df_col %>%
group_by(Province_State) %>%
summarize(max_fatality_rate = max(Case_Fatality_Ratio, na.rm = TRUE))%>%
View()
state_max_fatality_rate<-df_col %>%
group_by(Province_State) %>%
summarize(max_fatality_rate = max(Case_Fatality_Ratio, na.rm = TRUE))%>%
arrange(desc(score))
state_max_fatality_rate<-df_col %>%
group_by(Province_State) %>%
summarize(max_fatality_rate = max(Case_Fatality_Ratio, na.rm = TRUE))%>%
arrange(desc(max_fatality_rate))
View()
state_max_fatality_rate<-df_col %>%
group_by(Province_State) %>%
summarize(max_fatality_rate = max(Case_Fatality_Ratio, na.rm = TRUE))%>%
arrange(desc(max_fatality_rate))%>%
View()
Print(state_max_fatality_rate)
Str(state_max_fatality_rate)
str(state_max_fatality_rate)
**V.**
str(state_max_fatality_rate)
**V.**
state_max_fatality_rate<-df_col %>%
group_by(Province_State) %>%
summarize(max_fatality_rate = max(Case_Fatality_Ratio, na.rm = TRUE))%>%
arrange(desc(max_fatality_rate))%>%
View()
library(gapminder)
state_max_fatality$Province_State<- as.factor(state_max_fatality$Province_State)
state_max_fatality_rate$Province_State<- as.factor(state_max_fatality_rate$Province_State)
View(state_max_fatality_rate)
state_max_fatality<-df_col %>%
group_by(Province_State) %>%
summarize(max_fatality_rate = max(Case_Fatality_Ratio, na.rm = TRUE))%>%
arrange(desc(max_fatality_rate))%>%
View()
state_max_fatality<- df %>%
group_by(Province_State) %>%
summarize(max_fatality_rate = max(Case_Fatality_Ratio, na.rm = TRUE))%>%
arrange(desc(max_fatality_rate))%>%
View()
state_max_fatality_rate<- df %>%
group_by(Province_State) %>%
summarize(max_fatality_rate = max(Case_Fatality_Ratio, na.rm = TRUE))%>%
arrange(desc(max_fatality_rate))%>%
View()
df<-cleaned_covid_data <- read.csv("cleaned_covid_data.csv")
state_max_fatality_rate<- df %>%
group_by(Province_State) %>%
summarize(max_fatality_rate = max(Case_Fatality_Ratio, na.rm = TRUE))%>%
arrange(desc(max_fatality_rate))%>%
View()
state_max_fatality_rate <- df %>%
group_by(Province_State) %>%
summarize(max_fatality_rate = max(Case_Fatality_Ratio, na.rm = TRUE))%>%
arrange(desc(max_fatality_rate))%>%
View()
state_max_fatality_rate <- df %>%
group_by(Province_State) %>%
summarize(max_fatality_rate = max(Case_Fatality_Ratio, na.rm = TRUE))%>%
arrange(desc(max_fatality_rate))%>%
state_max_fatality_rate <- df %>%
group_by(Province_State) %>%
summarize(max_fatality_rate = max(Case_Fatality_Ratio, na.rm = TRUE))%>%
arrange(desc(max_fatality_rate))%>%
state_max_fatality_rate <- df %>%
group_by(Province_State) %>%
summarize(max_fatality_rate = max(Case_Fatality_Ratio, na.rm = TRUE))%>%
arrange(desc(max_fatality_rate))%>%
View(state_max_fatality_rate)
Max_rate<- df %>%
group_by(Province_State) %>%
summarize(max_fatality_rate=max(Case_Fatality_Ratio, na.rm=TRUE)) %>%
arrange(desc(max_fatality_rate))
Max_rate<- df %>%
group_by(Province_State) %>%
summarize(max_fatality_rate=max(Case_Fatality_Ratio, na.rm=TRUE)) %>%
arrange(desc(max_fatality_rate))%>%
View()
state_max_fatality_rate <- df %>%
group_by(Province_State) %>%
summarize(max_fatality_rate = max(Case_Fatality_Ratio, na.rm = TRUE))%>%
arrange(desc(max_fatality_rate))
View(state_max_fatality_rate)
**V.**
state_max_fatality_rate$Province_State<- as.factor(state_max_fatality_rate$Province_State)
ggplot(state_max_fatality_rate)+
geom_bar(aes(x=Province_State, y=max_fatality_rate))+
labs(title=Max Fatality Rate Per State,
ggplot(state_max_fatality_rate)+
geom_bar(aes(x=Province_State, y=max_fatality_rate))+
labs(title=Max Fatality Rate Per State,
ggplot(state_max_fatality_rate)+
geom_bar(aes(x=Province_State, y=max_fatality_rate))+
labs(title=Max Fatality Rate Per State,
ggplot(state_max_fatality_rate)+
geom_bar(aes(x=Province_State, y=max_fatality_rate))+
labs(title="Max Fatality Rate Per State",
x= "State",
y= "Fatality Rate")+
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggplot(state_max_fatality_rate)+
geom_bar(aes(x=Province_State, y=max_fatality_rate), color=Province_State)+
labs(title="Max Fatality Rate Per State",
x= "State",
y= "Fatality Rate")+
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggplot(state_max_fatality_rate)+
geom_bar(aes(x=Province_State, y=max_fatality_rate))+
labs(title="Max Fatality Rate Per State",
x= "State",
y= "Fatality Rate")+
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggplot(state_max_fatality_rate)+
geom_bar(stat=Province_State))+
ggplot(state_max_fatality_rate)+
geom_bar(stat=Province_State)+
labs(title="Max Fatality Rate Per State",
x= "State",
y= "Fatality Rate")+
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggplot(state_max_fatality_rate)+
geom_bar(stat="Province_State")+
labs(title="Max Fatality Rate Per State",
x= "State",
y= "Fatality Rate")+
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggplot(state_max_fatality_rate)+
geom_bar(stat=max_fatality_rate)+
labs(title="Max Fatality Rate Per State",
x= "State",
y= "Fatality Rate")+
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggplot(state_max_fatality_rate)+
geom_bar(stat=max_fatality_rate)+
labs(title="Max Fatality Rate Per State",
x= "State",
y= "Fatality Rate")+
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggplot(state_max_fatality_rate)+
geom_bar(stat=state_max_fatality_rate$max_fatality_rate)+
labs(title="Max Fatality Rate Per State",
x= "State",
y= "Fatality Rate")+
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggplot(state_max_fatality_rate, aes(x=Province_State, y=max_fatality_rate))+
geom_bar(stat="identity", fill='darkgreen')+
labs(title="Max Fatality Rate Per State",
x= "State",
y= "Fatality Rate")+
theme(axis.text.x = element_text(angle = 45, hjust = 1))
state_max_fatality_rate$Province_State<- factor(state_max_fatalityrate$Province_State, levels=state_max_fatality_rate$Province_State[order(-state_max_fatality_rate$max_fatality_rate)]
ggplot(state_max_fatality_rate, aes(x=Province_State, y=max_fatality_rate))+
state_max_fatality_rate$Province_State<- factor(state_max_fatality_rate$Province_State, levels=state_max_fatality_rate$Province_State[order(-state_max_fatality_rate$max_fatality_rate)]
ggplot(state_max_fatality_rate, aes(x=Province_State, y=max_fatality_rate))+
state_max_fatality_rate$Province_State<- factor(state_max_fatality_rate$Province_State, levels=state_max_fatality_rate$Province_State[order(-state_max_fatality_rate$Maximum_Fatality_Ratio)]
state_max_fatality_rate$Province_State<- factor(state_max_fatality_rate$Province_State, levels=state_max_fatality_rate$Province_State[order(-state_max_fatality_rate$Maximum_Fatality_Ratio)]
state_max_fatality_rate$Province_State<- factor(state_max_fatality_rate$Province_State, levels=state_max_fatality_rate$Province_State[order(-state_max_fatality_rate$max_fatality_rate)]
ggplot(state_max_fatality_rate, aes(x=Province_State, y=max_fatality_rate))+
state_max_fatality_rate$Province_State<- factor(state_max_fatality_rate$Province_State, levels=state_max_fatality_rate$Province_State[order(-state_max_fatality_rate$max_fatality_rate)]
state_max_fatality_rate$Province_State<- factor(state_max_fatality_rate$Province_State, levels=state_max_fatality_rate$Province_State[order(-state_max_fatality_rate$max_fatality_rate)])
state_max_fatality_rate$Province_State<- factor(state_max_fatality_rate$Province_State, levels=state_max_fatality_rate$Province_State[order(-state_max_fatality_rate$max_fatality_rate)])
ggplot(state_max_fatality_rate, aes(x=Province_State, y=max_fatality_rate))+
geom_bar(stat="identity", fill='darkgreen')+
labs(title="Max Fatality Rate Per State",
x= "State",
y= "Fatality Rate")+
theme(axis.text.x = element_text(angle = 45, hjust = 1))
deaths_over_time <- df %>%
group_by(Last_Update) %>%
summarize(Total_Deaths = sum(Deaths, na.rm = TRUE)) %>%
arrange(Last_Update)
ggplot(deaths_over_time, aes(x = Last_Update, y = Total_Deaths)) +
geom_line(color = "red") +
labs(
title = "Deaths Over Time",
x = "Date",
y = "Deaths"
)
deaths_over_time <- df %>%
group_by(Last_Update) %>%
summarize(Total_Deaths = sum(Deaths, na.rm = TRUE)) %>%
arrange(Last_Update) %>%
View()
deaths_over_time <- df %>%
group_by(Last_Update) %>%
summarize(Total_Deaths = sum(Deaths, na.rm = TRUE)) %>%
arrange(Last_Update) %>%
View()
deaths_over_time <- df %>%
group_by(Last_Update) %>%
summarize(Total_Deaths = sum(Deaths, na.rm = TRUE)) %>%
arrange(Last_Update)
View(deaths_over_time)
ggplot(deaths_over_time, aes(x = Last_Update, y = Total_Deaths)) +
geom_line(color = "red") +
labs(
title = "Deaths Over Time",
x = "Date",
y = "Deaths"
)
View(deaths_over_time)
deaths_over_time$Last_Update <- as.POSIXct(deaths_over_time$Last_Update)
ggplot(deaths_over_time, aes(x = Last_Update, y = Total_Deaths)) +
geom_line(color = "red") +
labs(
title = "Deaths Over Time",
x = "Date",
y = "Deaths"
)
df<-cleaned_covid_data <- read.csv("cleaned_covid_data.csv")
library(tidyverse)
A_states<- df %>%
filter(grepl("^A", Province_State))
View(A_states)
library(tidyverse)
df <- read_csv("cleaned_covid_data.csv")
skimr::skim(df)
ggplot(A_states)+
geom_point(aes(x=Last_Update, y=Deaths))+
geom_smooth(aes(x=Last_Update, y=Deaths),method="loess", se=FALSE, color='red')+
labs(title="Deaths Over Time",
x="Date",
y="Deaths")+
facet_wrap("Province_State", scales="free")
ggplot(state_max_fatality_rate, aes(x=Province_State, y=max_fatality_rate))+
geom_bar(stat="identity", fill='darkgreen')+
labs(title="Max Fatality Rate Per State",
x= "State",
y= "Fatality Rate")+
theme(axis.text.x = element_text(angle = 45, hjust = 1))
